<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>安防</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        html,body{
            width: 100%;
            height: 100%;
        }
        /* 定义 */
        @font-face {
            font-family: 'digital_7';
            src: url('/static/digital_7/digital-7.eot'); /* IE9 Compat Modes */
            src: url('/static/digital_7/digital-7.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
            url('/static/digital_7/digital-7.woff') format('woff'), /* Modern Browsers */
            url('/static/digital_7/digital-7.ttf')  format('truetype'), /* Safari, Android, iOS */
            url('/static/digital_7/digital-7.svg#MicrosoftYaHei') format('svg'); /* Legacy iOS */
        }

        /* 使用 */
        /*
        body{
          font-family: "digital_7";
        }
         */
    </style>
</head>
<body style="background-color: #000811;">
{#<img src="/static/img/2.png" style="width: 100%;height: 100%;position:absolute;z-index: -1;">#}
<div class="container-fluid" style="height: 100%;border:1px solid black;">
    <div class="row" style="height: 50%">
        <div class="col-sm-8" style="height: 100%;border:1px solid black;">
            <div class="row" style="height: 100%;margin-top: 10px;">
                <!--<h3>人脸识别区域</h3>-->
                <div class="col-sm-4" style="height: 100%">
                        <div id="container1" style="height: 100%"></div>
                </div>
                <div class="col-sm-8" style="height: 100%">
                    <div id="container2" style="height: 100%"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-4" style="height: 100%;border:1px solid black;">
            <div class="row" style="height: 20%">
                <div class="col-sm-12" style="height: 100%">
                    <h4 style="color: #52ffff">车库信息概览</h4>
                </div>
            </div>
            <div class="row" style="font-family:digital_7;height: 60%;margin-top: 5%;">
                <div class="col-sm-3" style="height: 80%;border: 1px solid #52ffff;margin-left:6.25%;display: flex;align-items: center;justify-content: center;">
                    <div>
                        <p style="font-size: 30px;color: #52ffff;">总数</p>
                        <p style="font-size: 50px;color: #52ffff;">461</p>
                    </div>
                    <!--
                    <div style="font-size: 30px;color: #52ffff;margin-top: 10%;">总数</div>
                    <div style="font-size: 50px;color: #52ffff;">461</div>
                    -->
                </div>
                <div class="col-sm-3" style="height: 80%;border: 1px solid #52ffff;margin-left:6.25%;display: flex;align-items: center;justify-content: center;">
                    <div>
                        <p style="font-size: 30px;color: #52ffff;">内部</p>
                        <p style="font-size: 50px;color: #52ffff;">400</p>
                    </div>
                    <!--
                    <div style="font-size: 30px;color: #52ffff;margin-top: 10%;">内部</div>
                    <div style="font-size: 50px;color: #52ffff;">400</div>
                    -->
                </div>
                <div class="col-sm-3" style="height: 80%;border: 1px solid #52ffff;margin-left:6.25%;display: flex;align-items: center;justify-content: center;">
                    <div>
                        <p style="font-size: 30px;color: #52ffff;">访客</p>
                        <p style="font-size: 50px;color: #52ffff;">061</p>
                    </div>
                    <!--
                    <div style="font-size: 30px;color: #52ffff;margin-top: 10%;">访客</div>
                    <div style="font-size: 50px;color: #52ffff;">061</div>
                    -->
                </div>
            </div>

        </div>
    </div>
    <div class="row" style="height: 50%">
        <div class="col-sm-12" style="height: 100%;border:1px solid black;">
            <div class="row" style="height: 100%">
                <div class="col-sm-4" style="margin: 0;padding: 0;height: 100%;border:1px solid black;">
                    <!-- <h3>监控设备统计</h3> -->
                    <div id="container" style="height: 100%"></div>
                </div>
                <div class="col-sm-4" style="height: 100%;border:1px solid black;">
                    <!--<h3>区域3D图</h3>-->
                    <img src="/static/img/3D.png" style="width: 100%;height: 100%;position:absolute;z-index: -1;">
                    <span class="camera glyphicon glyphicon-facetime-video" onclick=clickCamera("9aee76b78f7c4820aa1d1cdfeae2e8a9") style="color: black;left: 30px;top:160px;cursor: pointer;"></span>
                    <span class="camera glyphicon glyphicon-facetime-video" style="color: black;left: 175px;top:250px;cursor: pointer;"></span>
                    <span class="camera glyphicon glyphicon-facetime-video" style="color: black;left: 210px;top:45px;cursor: pointer;"></span>
                    <span class="camera glyphicon glyphicon-facetime-video" style="color: black;left: 355px;top:140px;cursor: pointer;"></span>
                    <span class="camera glyphicon glyphicon-facetime-video" style="color: black;left: 160px;top:95px;cursor: pointer;"></span>
                </div>
                <div class="col-sm-4" style="margin: 0;padding:0;height: 100%;border:1px solid black;">
                    <!--<video muted src="http://192.168.188.216:83/openUrl/ONmJ9Di/live.m3u8" controls="controls" autoplay style="width:100%; height:100%; object-fit:fill"></video>-->
                    <video id="video" muted controls="controls" autoplay style="width:100%; height:100%; object-fit:fill"></video>
                    <!--
                    <h3>监控画面</h3>
                    <iframe src="a.html" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no" allowtransparency="yes" style="width: 100%;height: 100%;">

                    </iframe>
                    -->
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="/static/js/vintage.js"></script>
<script type="text/javascript">
  var dom = document.getElementById("container");
  var dom1 = document.getElementById("container1");
  var dom2 = document.getElementById("container2");
  var myChart = echarts.init(dom,"vintage");
  var myChart1 = echarts.init(dom1,"vintage");
  var myChart2 = echarts.init(dom2,"vintage");
  var option = {
      title : {
          text: '监控设备统计',
          subtext: '实时监测',
          x:'center'
      },
      tooltip : {
          trigger: 'item',
          formatter: "{a} <br/>{b} : {c} ({d}%)"
      },
      legend: {
          orient: 'vertical',
          left: 'left',
          data: ['正常','异常']
      },
      series : [
          {
              name: '监控设备统计',
              type: 'pie',
              radius : '55%',
              center: ['50%', '50%'],
              data:[
                  {value:90, name:'正常'},
                  {value:10, name:'异常'}
              ],
              itemStyle: {
                  emphasis: {
                      shadowBlur: 10,
                      shadowOffsetX: 0,
                      shadowColor: 'rgba(0, 0, 0, 0.5)'
                  }
              }
          }
      ]
  };
  var option1 = {
      title : {
          text: '公司考勤统计',
          subtext: '今日数据',
          x:'center'
      },
      tooltip : {
          trigger: 'item',
          formatter: "{a} <br/>{b} : {c} ({d}%)"
      },
      legend: {
          orient: 'vertical',
          left: 'left',
          data: ['出勤','缺勤']
      },
      series : [
          {
              name: '公司考勤统计',
              type: 'pie',
              radius : '55%',
              center: ['50%', '50%'],
              data:[
                  {value:90, name:'出勤'},
                  {value:10, name:'缺勤'}
              ],
              itemStyle: {
                  emphasis: {
                      shadowBlur: 10,
                      shadowOffsetX: 0,
                      shadowColor: 'rgba(0, 0, 0, 0.5)'
                  }
              }
          }
      ]
  };
  var option2 = {
    title : {
        text: '各部门出勤统计',
        subtext: '今日数据'
    },
    legend: {
        data:['出勤','缺勤']
    },
    tooltip: {
        trigger: 'axis'
    },
    toolbox: {
        show : true,
        feature : {
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis: {
        type: 'category',
        data:['研发','工控','产品','生产']
    },
    yAxis: {
        type:'value'
    },
    series: [
        {
            name:'出勤',
            type: 'bar',
            data:[9,8,10,7]
        },
        {
            name:'缺勤',
            type: 'bar',
            data: [1,2,0,3]
        }
    ]
};
  if (option && typeof option === "object") {
      myChart.setOption(option, true);
  }
  if (option1 && typeof option1 === "object") {
      myChart1.setOption(option1, true);
  }
  if (option2 && typeof option2 === "object") {
      myChart2.setOption(option2, true);
  }
</script>
<script>
    function clickCamera(cameraIndexCode){
        $.ajax({
            url:'/videostream',
            method:'GET',
            data:{'cameraIndexCode':cameraIndexCode},
            success:function (dic) {
                var video = document.getElementById("video");
                video.setAttribute("src",dic.videostream);
            }
        })
    }
</script>
</body>
</html>